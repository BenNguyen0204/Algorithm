# Heap

## Definition

- A heap is a special binary tree that satisfies two rules:
    1. **Rule 1 — Shape Property**
        - A heap is a complete binary tree, meaning:
        - Every level is completely filled (Except possibly the last level)
        - And the last level must be filled left to right
        - This gives heaps a compact shape.

    2. **Rule 2 — Heap Property**
    - Two main types:
        1. Min-Heap
            - Parent ≤ Children → The smallest element is at the root.
        2. Max-Heap
            - Parent ≥ Children→ The largest element is at the root.

## Operations:

[How heaps work](https://www.youtube.com/watch?v=0wPlzMU-k00)

[Heapify](https://www.youtube.com/watch?v=CAbDbiCfERY)

- Get min/max in O(1)
- Insert in O(log n)
    - Add new element to the end
    - “Bubble up” / “heapify up”
    - "Swap with parent until heap property is fixed"
- Remove min/max in O(log n)
    - Return the root (min for min-heap, max for max-heap)
    - Replace root with last element
    - “Bubble down” / “heapify down”
    - Swap with smaller (or larger) child until heap property restored

## How is a Heap stored
- Stored as a simple array:
    - Example binary tree:
    ```cpp
    
        10
      /    \
    15     20
    ```
    - Stored in array as:
    ```cpp
    index: 0  1  2
    value:10 15 20
    ```
- General rules:
    - Left child  = index*2 + 1
    - Right child = index*2 + 2
    - Parent      = floor((i-1)/2)